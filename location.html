<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Your Venue</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
        }
        a {
            text-decoration: none;
        }
        /* Header styles */
    header {
      background-color: #ffffff;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .icon {
      width: 40px;
      height: 40px;
    }

    .text {
      font-size: 24px;
      font-weight: bold;
      color: #333;
    }

    .highlight {
      color: #9500be;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
    }

    nav ul {
      list-style: none;
      display: flex;
      margin: 0;
      padding: 0;
    }

    nav ul li {
      margin-left: 20px;
    }

    nav ul li a {
      text-decoration: none;
      color: #000;
      font-weight: 500;
    }
    nav ul li a:hover{
      color: #7e00a0;
    }
    .buttons a {
      margin-left: 15px;
      padding: 8px 15px;
      text-decoration: none;
      font-weight: bold;
      border-radius: 5px;
    }

    .register {
      background-color: #fff;
      border: 2px solid #9500be;
      color: #9500be;
      padding: 8px 15px;
      border-radius: 5px;
      font-weight: bold;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .register:hover {
      background-color: #9500be;
      color: #ffffff;
    }

    .login {
      background-color: #ffffff;
      border: 2px solid #9500be;
      color: #9500be;
      padding: 8px 15px;
      border-radius: 5px;
      font-weight: bold;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .login:hover {
      background-color: #9500be;
      color: #ffffff;
    }

    .signup {
      background-color: #9500be;
      border: 2px solid #9500be;
      color: #ffffff;
      padding: 8px 15px;
      border-radius: 5px;
      font-weight: bold;
      text-decoration: none;
      transition: all 0.3s ease;
    }
    .signup:hover{
      background-color: #750095ed;
    }

        .container {
            width: 800px;
            margin: 50px auto;
            background: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 20px;
        }

        .back-button {
            display: flex;
            align-items: center;
            margin: 40px;
            color: #6c5ce7;
            text-decoration: none;
            font-size: 14px;
            font-weight: bold;
        }

        .back-button span {
            margin-left: 5px;
        }

        h1 {
            text-align: center;
            font-size: 24px;
            margin-bottom: 10px;
        }

        p {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
        }

        .tab {
            padding: 10px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: border-bottom 0.3s ease;
        }

        .tab.active {
            border-bottom: 2px solid #6c5ce7; /* Active tab indicator */
            color: #6c5ce7;
        }

        .map-container {
            margin: 20px 0; /* Adjusted margin */
            padding: 10px;
            height: 450px;
            position: relative;
            background-color: #f1f5f9;
            border-radius: 8px;
        }

        #search-map {
            width: calc(100% - 20px); /* Adjust for padding */
            padding: 10px;
            margin-bottom: 10px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box; /* Include padding in width */
        }

        #map {
            width: 100%;
            height: calc(100% - 45px); /* Adjust height to accommodate search input */
            border-radius: 8px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            padding-top: 10px;
            margin-bottom: 20px; /* Add margin below checkbox */
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin: 0; /* Reset default margin */
            transform: scale(1.2); /* Make checkbox slightly larger */
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .form-actions button {
            background-color: #6c5ce7;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: bold;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .form-actions button:hover {
            background-color: #5a4dbf;
        }

        .error-message {
            color: red;
            font-size: 14px;
            margin-top: 10px;
            display: none; /* Controlled by JS */
        }

        /* Custom Message Box Styles (replacing alert) */
        .custom-message-box {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
        }

        .custom-message-box-content {
            background-color: #fefefe;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 300px;
            position: relative;
        }

        .custom-message-box-content .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 20px;
            cursor: pointer;
            color: #aaa;
        }
        .custom-message-box-content .close-btn:hover {
            color: #333;
        }

        .custom-message-box-content p {
            margin: 10px 0;
            color: #333;
        }

        .custom-message-box-content button {
            background-color: #6c5ce7;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }

        
        .benefits {
            width: 45vw;
            margin-bottom: 30px;
            margin-top: 20px;
            margin-left: 25%;
            padding: 20px;
            background-color: #f1f5f9;
            border-radius: 8px;
            height: 35vh;
        }

        .benefits h2 {
            font-size: 18px;
            margin-bottom: 15px;
        }

        .benefit {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }

        .benefit:last-child {
            margin-bottom: 0;
        }

        .benefit-icon {
            background-color: #6c5ce7;
            color: white;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            font-size: 14px;
        }

        .footer {
    background-color: #1a202c;
    color: #e2e8f0;
    padding: 40px 20px;
  }

  .footer-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    gap: 20px;
  }

  .footer-section {
    flex: 1 1 calc(25% - 20px);
    min-width: 200px;
  }

  .footer-logo {
    font-size: 24px;
    color: #ffffff;
    margin-bottom: 10px;
  }

  .footer-logo span {
    color: #ffa500;
  }

  .footer-section h3 {
    font-size: 18px;
    margin-bottom: 10px;
  }

  .footer-section p {
    font-size: 14px;
    margin-bottom: 10px;
    line-height: 1.6;
  }

  .footer-section ul {
    list-style: none;
    padding: 0;
  }

  .footer-section ul li {
    margin-bottom: 8px;
  }

  .footer-section ul li a {
    text-decoration: none;
    color: #e2e8f0;
    font-size: 14px;
  }

  .footer-section ul li a:hover {
    text-decoration: underline;
    color: rgb(255, 166, 0);
  }

  .social-icons {
    display: flex;
    gap: 10px;
  }

  .social-icons a {
    color: #e2e8f0;
    font-size: 17px;
    text-decoration: none;
  }

  .social-icons a:hover {
    color: #ffa500;
  }

  .footer-bottom {
    text-align: center;
    margin-top: 20px;
    border-top: 1px solid #2d3748;
    padding-top: 10px;
    font-size: 14px;
  }

  .footer-bottom p {
    margin: 0;
    color: #718096;
  }

  .footer-section p i {
    margin-right: 8px;
  }
    </style>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVQcgomuQUopUbQxik4JW1snrwCmN35E0&libraries=places&callback=initMap"></script>
    <script>
        let map; // Declare map globally
        let marker; // Declare marker globally
        let autocomplete; // Declare autocomplete globally

        // Custom Message Box functions (replacing alert)
        function showMessage(message) {
            const messageBox = document.getElementById('customMessageBox');
            const messageText = document.getElementById('messageBoxText');
            messageText.textContent = message;
            messageBox.style.display = 'flex';
        }

        function closeMessageBox() {
            document.getElementById('customMessageBox').style.display = 'none';
        }

        function initMap() {
            const defaultLocation = { lat: 19.0760, lng: 72.8777 }; // Default location: Mumbai

            try {
                map = new google.maps.Map(document.getElementById("map"), {
                    center: defaultLocation,
                    zoom: 12,
                });

                marker = new google.maps.Marker({
                    position: defaultLocation,
                    map: map,
                    draggable: true,
                });

                const input = document.getElementById("search-map");
                autocomplete = new google.maps.places.Autocomplete(input);
                autocomplete.bindTo("bounds", map);

                autocomplete.addListener("place_changed", () => {
                    const place = autocomplete.getPlace();
                    if (!place.geometry || !place.geometry.location) {
                        showMessage("No details available for the selected location.");
                        return;
                    }

                    map.setCenter(place.geometry.location);
                    map.setZoom(15);
                    marker.setPosition(place.geometry.location);
                    saveLocation(place.geometry.location.lat(), place.geometry.location.lng());
                });

                google.maps.event.addListener(marker, 'dragend', function(event) {
                    const lat = event.latLng.lat();
                    const lng = event.latLng.lng();
                    saveLocation(lat, lng);
                });

                map.addListener("click", (event) => {
                    const clickedLocation = event.latLng;
                    marker.setPosition(clickedLocation);

                    const lat = clickedLocation.lat();
                    const lng = clickedLocation.lng();
                    saveLocation(lat, lng);
                });

                console.log("Google Map initialized successfully.");
            } catch (error) {
                console.error("Error initializing Google Map:", error);
                showMessage("Failed to load map. Please check your internet connection and API key.");
            }
        }

        function saveLocation(lat, lng) {
            console.log(`Saving location: Latitude: ${lat}, Longitude: ${lng}`);

            fetch('http://localhost:3000/save-location', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ lat, lng }),
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                if (data.message) {
                    showMessage(data.message); // Use custom message box
                }
            })
            .catch(error => {
                console.error('Error saving location:', error);
                showMessage('Error saving location: ' + error.message); // Use custom message box
            });
        }

        // DOMContentLoaded for other script logic
        document.addEventListener('DOMContentLoaded', function() {
            // Set active tab
            const currentPath = window.location.pathname.split('/').pop();
            const tabs = document.querySelectorAll('.tabs .tab');
            tabs.forEach(tab => {
                if (tab.parentElement.getAttribute('href') && tab.parentElement.getAttribute('href').includes(currentPath)) {
                    tab.classList.add('active');
                }
            });

            // Back button functionality
            const backButton = document.querySelector('.back-button');
            if (backButton) {
                backButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.history.back(); // Go back to the previous page
                });
            }

            // Next button functionality (for demonstration, you'd add validation)
            const nextButton = document.querySelector('.form-actions button[type="submit"]');
            if (nextButton) {
                nextButton.addEventListener('click', function(e) {
                    const confirmCheckbox = document.getElementById('confirm-location');
                    if (!confirmCheckbox.checked) {
                        showMessage('Please confirm the location of your venue.');
                        e.preventDefault(); // Prevent navigation
                    } else {
                        // In a real app, you'd save the location data and then navigate
                        // For now, just navigate to Amenities.html if confirmed
                        window.location.href = 'Amenities.html';
                    }
                });
            }

            // Close button for custom message box
            document.getElementById('messageBoxCloseBtn').addEventListener('click', closeMessageBox);
            document.getElementById('messageBoxOkBtn').addEventListener('click', closeMessageBox);
        });
    </script>
</head>
<body>
    <header>
        <div class="logo">
            <div class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" fill="#FFD700"></rect>
                    <line x1="16" y1="2" x2="16" y2="6" stroke="#800080"></line>
                    <line x1="8" y1="2" x2="8" y2="6" stroke="#800080"></line>
                    <line x1="3" y1="10" x2="21" y2="10" stroke="#4A148C"></line>
                </svg>
            </div>
            <div class="text">
                <span class="highlight">BookVenueNow</span>
            </div>
        </div>
        <nav>
            <ul>
                <li><a href="pra.html">Home</a></li>
                <li><a href="#">Venues</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="#">About Us</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </nav>
        <div class="buttons">
            <a href="Registerwithoutlogin.html" class="register">
                <i class="fa fa-user-plus"></i> Register Your Venue
            </a>
            <a href="login.html" class="login">Login</a>
            <a href="signup.html" class="signup">Sign Up</a>
        </div>
    </header>    
        <a href="pra.html" class="back-button">
            ← <span>Back to Home</span>
        </a>
        <h1>List Your Venue on BookVenueNow</h1>
        <p>Join hundreds of venue owners who list their function halls and event spaces on our platform. Fill in the details below to get started.</p>
        <div class="container">

        <div class="tabs">
            <a href="Registerwithlogin.html"><div class="tab">Basic Information</div></a>
            <a href="location.html"><div class="tab active">Location</div></a> 
            <a href="Amenities.html"><div class="tab">Amenities & Contact</div></a>
        </div>

        <div class="map-container">
            <input type="text" id="search-map" placeholder="Search based on your city/area or click on the map to set the exact location">
            <div id="map"></div>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="confirm-location">
            <label for="confirm-location">I confirm this is the correct location of my venue</label>
        </div>

        <div class="form-actions">
            <a href="Registerwithlogin.html"><button type="button" onclick="window.history.back()">Back</button></a>
            <button type="submit">Next: Amenities</button>
        </div>
    </div>

    <div id="customMessageBox" class="custom-message-box">
        <div class="custom-message-box-content">
            <span class="close-btn" id="messageBoxCloseBtn">&times;</span>
            <p id="messageBoxText"></p>
            <button id="messageBoxOkBtn">OK</button>
        </div>
    </div>
    <div class="benefits">
            <h2>Benefits of Listing with BookVenueNow</h2>
            <div class="benefit">
                <div class="benefit-icon">📈</div>
                <div>Increased Visibility: Get discovered by thousands of potential customers in your area.</div>
            </div>
            <div class="benefit">
                <div class="benefit-icon">💳</div>
                <div>Secure Payments: Get paid quickly and securely through our integrated payment system.</div>
            </div>
            <div class="benefit">
                <div class="benefit-icon">📅</div>
                <div>Streamlined Bookings: Manage all your bookings through our easy-to-use dashboard.</div>
            </div>
            <div class="benefit">
                <div class="benefit-icon">⏱️</div>
                <div>24/7 Support: Our team is always available to help with any questions or issues.</div>
            </div>
        </div>
        <footer class="footer">
    <div class="footer-container">
      <div class="footer-section">
        <h2 class="footer-logo">BookVenueNow</h2>
        <p>Find the perfect function hall for your special events. Easy booking, real-time availability, and premium services.</p>
        <div class="social-icons">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">Browse Venues</a></li>
          <li><a href="#">Services</a></li>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Customer Support</h3>
        <ul>
          <li><a href="#">FAQ</a></li>
          <li><a href="#">How It Works</a></li>
          <li><a href="#">Payment Options</a></li>
          <li><a href="#">Refund Policy</a></li>
          <li><a href="#">Privacy Policy</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Contact Us</h3>
        <p><i class="fas fa-map-marker-alt"></i> 123 Main Street, Hyderabad, Telangana, India - 500001</p>
        <p><i class="fas fa-phone-alt"></i> +91 98765 43210</p>
        <p><i class="fas fa-envelope"></i> info@bookvenuenow.com</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>© 2025 BookVenueNow. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>
